{"version":3,"sources":["components/Container/Container.js","components/ScoreBoard/ScoreBoard.js","components/GameSettings/GameSettings.js","helpers/helpers.js","components/Cell/Cell.js","components/Game/Game.js","controller/newCell.js","constants/directions.js","controller/move.js","controller/gridHelpers.js","controller/gameInit.js","themes.js","components/GameOver/GameOver.js","App.js","index.js"],"names":["Main","styled","main","_templateObject","props","theme","background","Content","div","_templateObject2","Container","_ref","children","react_default","a","createElement","ScoreBoard","score","bestScore","Wrapper","GameNameLabel","Scores","Box","Label","Score","defaultProps","ScoreBoard_templateObject","ScoreBoard_templateObject2","labelColor","_templateObject3","_templateObject4","primaryColor","_templateObject5","_templateObject6","white","GameSettings","selectedTheme","changeTheme","newGame","GameSettings_Wrapper","MoonButton","onClick","role","aria-label","NewGame","GameSettings_Label","GameSettings_templateObject","button","GameSettings_templateObject2","GameSettings_templateObject3","GameSettings_templateObject4","fontSizeCalculater","value","Cell","x","y","color","cellStyle","Object","objectWithoutProperties","gridColumn","concat","gridRow","fontSize","backgroundColor","Cell_Box","style","Cell_templateObject","_ref2","cellColor","_ref3","cellLabel","BackgroundGrid","size","Grid","Array","from","_","i","map","Cell_Cell","key","Game","cells","Game_Wrapper","Playground","row","Game_templateObject","Game_templateObject2","_ref4","Game_templateObject3","getRandom","Math","floor","random","newCell","grid","options","length","j","push","spot","directions","UP","DOWN","LEFT","RIGHT","mapKeyCodeToDirection","KeyA","KeyS","KeyD","KeyW","ArrowLeft","ArrowDown","ArrowRight","ArrowUp","move","direction","flipped","rotated","flipGrid","rotateGrid","oldGrid","cloneDeep","operate","changed","newGrid","compareGrid","gameOver","isGameOver","blankGrid","slideRow","arr","filter","val","missing","fill","reverse","b","point","combineRow","gameInit","themes","light","secondaryColor","cellColor_2","cellColor_4","cellColor_8","cellColor_16","cellColor_32","cellColor_64","cellColor_128","cellColor_256","cellColor_512","cellColor_1024","cellColor_2048","dark","GameOver_templateObject","GameOver_templateObject2","GameOver","GameOver_Wrapper","GameOver_Content","App","state","_this","setState","_objectSpread","handleKeyPress","event","code","_move","document","addEventListener","this","removeEventListener","_this$state","styled_components_browser_esm","Container_Container","App_Wrapper","ScoreBoard_ScoreBoard","GameSettings_GameSettings","GameOver_GameOver","Game_Game","Component","App_templateObject","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.31bb608a.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nfunction Container({ children }) {\n  return (\n    <Main>\n      <Content>{children}</Content>\n    </Main>\n  );\n}\n\nconst Main = styled.main`\n  align-items: center;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  justify-content: center;\n  background-color: ${props => props.theme.background};\n`;\n\nconst Content = styled.div`\n  width: 420px;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nScoreBoard.propTypes = {\n  score: PropTypes.number,\n  bestScore: PropTypes.number,\n};\n\nScoreBoard.defaultProps = {\n  score: 0,\n  bestScore: 0,\n};\n\nfunction ScoreBoard({ score, bestScore }) {\n  return (\n    <Wrapper>\n      <GameNameLabel>2048</GameNameLabel>\n      <Scores>\n        <Box>\n          <Label>Score</Label>\n          <Score>{score}</Score>\n        </Box>\n        <Box>\n          <Label>Best</Label>\n          <Score>{bestScore}</Score>\n        </Box>\n      </Scores>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst GameNameLabel = styled.div`\n  font-weight: bold;\n  font-size: 4em;\n  text-align: center;\n  color: ${props => props.theme.labelColor};\n`;\n\nconst Scores = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n`;\n\nconst Box = styled.div`\n  min-width: 75px;\n  text-align: center;\n  justify-content: center;\n  background-color: ${props => props.theme.primaryColor};\n  margin-left: 5px;\n  padding: 5px;\n  border-radius: 5px;\n`;\n\nconst Label = styled.div`\n  color: ${props => props.theme.labelColor};\n  font-weight: bold;\n  font-size: 15px;\n  padding: 5px;\n  text-transform: uppercase;\n`;\n\nconst Score = styled.div`\n  color: ${props => props.theme.white};\n  font-weight: bold;\n  font-size: 30px;\n  left: 0;\n`;\n\nexport default ScoreBoard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nGameSettings.propTypes = {\n  selectedTheme: PropTypes.string,\n  changeTheme: PropTypes.func,\n  newGame: PropTypes.func,\n};\n\nGameSettings.defaultProps = {\n  selectedTheme: 'light',\n};\n\nfunction GameSettings({ selectedTheme, changeTheme, newGame }) {\n  return (\n    <Wrapper>\n      <MoonButton onClick={changeTheme}>\n        {selectedTheme === 'light' ? (\n          <span role=\"img\" aria-label={selectedTheme}>\n            🌒\n          </span>\n        ) : (\n          <span role=\"img\" aria-label={selectedTheme}>\n            🌔\n          </span>\n        )}\n      </MoonButton>\n      <NewGame onClick={newGame}>\n        <Label>New Game</Label>\n      </NewGame>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 10px;\n`;\n\nconst MoonButton = styled.button`\n  background-color: transparent;\n  padding: 5px;\n  text-transform: capitalize;\n  font-size: 32px;\n  outline: none;\n  border: none;\n  cursor: pointer;\n`;\n\nconst NewGame = styled.button`\n  min-width: 100px;\n  text-align: center;\n  justify-content: center;\n  background-color: ${props => props.theme.primaryColor};\n  padding: 5px;\n  text-transform: capitalize;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n`;\n\nconst Label = styled.div`\n  color: ${props => props.theme.labelColor};\n  font-weight: bold;\n  font-size: 15px;\n  padding: 5px;\n`;\n\nexport default GameSettings;\n","export function fontSizeCalculater(value) {\n  const size = value < 100 ? 55 : value < 1000 ? 40 : value < 10000 ? 35 : 25;\n  return size;\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { fontSizeCalculater } from 'helpers';\n\nCell.propTypes = {\n  x: PropTypes.number,\n  y: PropTypes.number,\n  value: PropTypes.number,\n  color: PropTypes.string,\n};\n\nCell.defaultProps = {\n  color: 'secondaryColor',\n};\n\nfunction Cell({ x, y, value, color, ...rest }) {\n  let cellStyle = {};\n  if (x && y) {\n    cellStyle = {\n      gridColumn: `${x}/${x + 1}`,\n      gridRow: `${y}/${y + 1}`,\n      fontSize: fontSizeCalculater(value),\n    };\n  }\n\n  let backgroundColor = value ? `cellColor_${value}` : color;\n\n  return (\n    <Box x={x} y={y} value={value} style={cellStyle} backgroundColor={backgroundColor}>\n      {value}\n    </Box>\n  );\n}\n\nconst Box = styled.div`\n  background-color: ${({ theme, backgroundColor }) => theme[backgroundColor] || theme.cellColor};\n  color: ${({ theme, value }) => (value < 8 ? theme.cellLabel : theme.white)};\n  border-radius: 5px;\n  padding: 5px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 55px;\n  font-weight: bold;\n`;\n\nexport default Cell;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport Cell from 'components/Cell';\n\nGame.propTypes = {\n  cells: PropTypes.array.isRequired,\n  size: PropTypes.number,\n  theme: PropTypes.string,\n};\n\nGame.defaultProps = {\n  size: 4,\n  theme: 'light',\n};\n\nfunction BackgroundGrid({ size }) {\n  return (\n    <Grid size={size}>\n      {Array.from(new Array(size * size), (_, i) => i).map(i => (\n        <Cell key={i} />\n      ))}\n    </Grid>\n  );\n}\nfunction Game({ cells, size }) {\n  return (\n    <Wrapper>\n      <BackgroundGrid size={size} />\n      <Playground size={size}>\n        {cells.map((row, y) =>\n          row.map((value, x) => {\n            if (value === 0) return null;\n            return (\n              <Cell key={`key_${x}_${y}`} x={x + 1} y={y + 1} value={value}>\n                {value}\n              </Cell>\n            );\n          }),\n        )}\n      </Playground>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div`\n  border-radius: 5px;\n  background-color: ${props => props.theme.primaryColor};\n  height: 380px;\n  width: 380px;\n  padding: 10px;\n`;\n\nconst Grid = styled.div`\n  height: 380px;\n  width: 380px;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: repeat(${({ size }) => size}, 1fr);\n  grid-template-rows: repeat(${({ size }) => size}, 1fr);\n  position: absolute;\n`;\n\nconst Playground = styled(Grid)`\n  background-color: transparent;\n`;\n\nexport default Game;\n","function getRandom(size) {\n  return Math.floor(Math.random() * size);\n}\n\nfunction newCell(grid) {\n  let options = [];\n  const size = grid[0].length;\n\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      if (grid[i][j] === 0) {\n        options.push({ x: i, y: j });\n      }\n    }\n  }\n  if (options.length > 0) {\n    const spot = options[getRandom(options.length)];\n    const value = getRandom(2) > 0 ? 2 : 4;\n    grid[spot.x][spot.y] = value;\n  }\n  return grid;\n}\n\nexport default newCell;\n","const directions = {\n  UP: 'UP',\n  DOWN: 'DOWN',\n  LEFT: 'LEFT',\n  RIGHT: 'RIGHT',\n};\n\nexport const mapKeyCodeToDirection = {\n  KeyA: directions.LEFT,\n  KeyS: directions.DOWN,\n  KeyD: directions.RIGHT,\n  KeyW: directions.UP,\n\n  ArrowLeft: directions.LEFT,\n  ArrowDown: directions.DOWN,\n  ArrowRight: directions.RIGHT,\n  ArrowUp: directions.UP,\n};\n\nexport default directions;\n","import { cloneDeep } from 'lodash';\n\nimport directions from '../constants/directions';\nimport newCell from './newCell';\nimport { rotateGrid, flipGrid, compareGrid, operate } from './gridHelpers';\n\nlet score = 0;\nlet bestScore = 0;\n\nfunction move(grid, direction) {\n  const size = grid[0].length;\n  let flipped = false;\n  let rotated = false;\n\n  if (direction === directions.LEFT) {\n    grid = flipGrid(grid);\n    flipped = true;\n  } else if (direction === directions.DOWN) {\n    grid = rotateGrid(grid);\n    rotated = true;\n  } else if (direction === directions.UP) {\n    grid = rotateGrid(grid);\n    grid = flipGrid(grid);\n    rotated = true;\n    flipped = true;\n  }\n\n  let oldGrid = cloneDeep(grid);\n  for (let i = 0; i < size; i++) {\n    grid[i] = operate(grid[i]);\n  }\n\n  const changed = compareGrid(oldGrid, grid);\n\n  if (flipped) {\n    grid = flipGrid(grid);\n  }\n\n  if (rotated) {\n    grid = rotateGrid(grid);\n    grid = rotateGrid(grid);\n    grid = rotateGrid(grid);\n  }\n\n  if (changed) {\n    grid = newCell(grid);\n  }\n\n  const gameOver = isGameOver(grid);\n\n  return { cells: grid, score, bestScore, gameOver };\n}\n\nfunction isGameOver(grid) {\n  const size = grid[0].length;\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      if (grid[i][j] === 0) {\n        return false;\n      }\n      if (j !== 3 && grid[i][j] === grid[i][j + 1]) {\n        return false;\n      }\n      if (i !== 3 && grid[i][j] === grid[i + 1][j]) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nfunction scoreIncrease(point) {\n  score += point;\n  if (score > bestScore) {\n    bestScore = score;\n  }\n}\n\nfunction setScore(newScore) {\n  score = newScore;\n}\n\nexport { scoreIncrease, setScore };\nexport default move;\n","import { scoreIncrease } from './move';\n\nfunction blankGrid(size) {\n  const grid = Array.from(new Array(size), () => Array.from(new Array(size), () => 0));\n  return grid;\n}\n\nfunction slideRow(row) {\n  let arr = row.filter(val => val);\n  let missing = row.length - arr.length;\n  let zeros = Array(missing).fill(0);\n  arr = zeros.concat(arr);\n  return arr;\n}\n\nfunction combineRow(row) {\n  for (let i = row.length - 1; i >= 1; i--) {\n    let a = row[i];\n    let b = row[i - 1];\n    if (a === b && (a !== 0 || b !== 0)) {\n      row[i] = a + b;\n      scoreIncrease(row[i]);\n      row[i - 1] = 0;\n    }\n  }\n  return row;\n}\n\nfunction rotateGrid(grid) {\n  const size = grid[0].length;\n  const newGrid = blankGrid(size);\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      newGrid[i][j] = grid[j][i];\n    }\n  }\n  return newGrid;\n}\n\nfunction flipGrid(grid) {\n  const size = grid[0].length;\n  for (let i = 0; i < size; i++) {\n    grid[i].reverse();\n  }\n  return grid;\n}\n\n// can be using isEqual(oldGrid.sort(), newGrid.sort()) (LODASH)\nfunction compareGrid(oldGrid, newGrid) {\n  const size = oldGrid[0].length;\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      if (oldGrid[i][j] !== newGrid[i][j]) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction operate(row) {\n  row = slideRow(row);\n  row = combineRow(row);\n  row = slideRow(row);\n  return row;\n}\n\nexport { slideRow, combineRow, blankGrid, rotateGrid, flipGrid, compareGrid, operate };\n","import newCell from './newCell';\nimport { blankGrid } from './gridHelpers';\nimport { setScore } from './move';\n\nfunction gameInit(size) {\n  let grid = blankGrid(size);\n  setScore(0);\n  grid = newCell(grid);\n  grid = newCell(grid);\n  return grid;\n}\n\nexport default gameInit;\n","const light = {\n  white: '#fff',\n  background: '#faf8ef',\n  primaryColor: '#bbad9f',\n  secondaryColor: '#cdc1b3',\n  labelColor: '#776e65',\n  cellLabel: '#776e65',\n\n  cellColor: '#eee4da',\n  cellColor_2: '#eee4da',\n  cellColor_4: '#eee1c9',\n  cellColor_8: '#f3b27a',\n  cellColor_16: '#f69664',\n  cellColor_32: '#f77c5f',\n  cellColor_64: '#f75f3b',\n  cellColor_128: '#edd073',\n  cellColor_256: '#edcc62',\n  cellColor_512: '#edc950',\n  cellColor_1024: '#edc53f',\n  cellColor_2048: '#edc22e',\n};\n\nconst dark = {\n  white: '#fff',\n  background: '#141d26',\n  primaryColor: '#243447',\n  secondaryColor: '#506680',\n  labelColor: '#506680',\n  cellLabel: '#FFF',\n\n  cellColor: '#96abc3',\n  cellColor_2: '#96abc3',\n  cellColor_4: '#609cde',\n  cellColor_8: '#004a9c',\n  cellColor_16: '#673ab7',\n  cellColor_32: '#bb26a1',\n  cellColor_64: '#500042',\n  cellColor_128: '#881030',\n  cellColor_256: '#e6104d',\n  cellColor_512: '#e61010',\n  cellColor_1024: '#7b0000',\n  cellColor_2048: '#000000',\n};\n\nconst themes = {\n  light,\n  dark,\n};\n\nexport default themes;\n","import React from 'react';\nimport styled from 'styled-components';\n\nfunction GameOver() {\n  return (\n    <Wrapper>\n      <Content>\n        <p>Game Over!</p>\n      </Content>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div`\n  width: 400px;\n  height: 400px;\n  position: absolute;\n  display: flex;\n  z-index: 2;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) => theme.white};;\n  opacity: 0.7;\n`;\n\nconst Content = styled.div`\n  font-weight: bold;\n  text-align: center;\n  font-size: 50px;\n  color: ${({ theme }) => theme.primaryColor};\n`;\n\nexport default GameOver;\n","import React, { Component } from 'react';\nimport styled, { ThemeProvider } from 'styled-components';\n\nimport Container from 'components/Container';\nimport ScoreBoard from 'components/ScoreBoard';\nimport GameSettings from 'components/GameSettings';\nimport Game from 'components/Game';\n\nimport gameInit from 'controller/gameInit';\nimport move from 'controller/move';\nimport { mapKeyCodeToDirection } from 'constants/directions';\nimport themes from './themes';\nimport GameOver from './components/GameOver';\n\nclass App extends Component {\n  state = {\n    cells: gameInit(4),\n    score: 0,\n    bestScore: 0,\n    size: 4,\n    selectedTheme: 'light',\n    gameOver: false,\n  };\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  newGame = () => {\n    this.setState(state => ({\n      ...state,\n      cells: gameInit(state.size),\n      score: 0,\n      gameOver: false,\n    }));\n  };\n\n  handleKeyPress = event => {\n    const { gameOver } = this.state;\n    if (!gameOver && mapKeyCodeToDirection[event.code]) {\n      const { cells, score, bestScore, gameOver } = move(\n        this.state.cells,\n        mapKeyCodeToDirection[event.code],\n      );\n      this.setState({\n        cells,\n        score,\n        bestScore,\n        gameOver,\n      });\n    }\n  };\n\n  changeTheme = () => {\n    this.setState(state => ({\n      ...state,\n      selectedTheme: state.selectedTheme === 'light' ? 'dark' : 'light',\n    }));\n  };\n\n  render() {\n    const { cells, score, bestScore, size, selectedTheme, gameOver } = this.state;\n    return (\n      <ThemeProvider theme={themes[selectedTheme]}>\n        <Container>\n          <Wrapper>\n            <ScoreBoard score={score} bestScore={bestScore} />\n            <GameSettings\n              selectedTheme={selectedTheme}\n              changeTheme={this.changeTheme}\n              newGame={this.newGame}\n            />\n          </Wrapper>\n          <Wrapper>\n            {gameOver && <GameOver />}\n            <Game cells={cells} size={size} />\n          </Wrapper>\n        </Container>\n      </ThemeProvider>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n  flex: 1;\n  padding: 10px;\n  flex-direction: column;\n`;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}